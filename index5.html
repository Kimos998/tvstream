<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Channels</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        /* أضف أي تعديلات على الأنماط الخاصة بك هنا */

        /* زر تخطي الإعلان */
        #skip-ad-button {
            display: none; /* يتم إخفاء الزر بشكل افتراضي */
        }
    </style>
</head>
<body>
<div class="clearfix"> <h1 id="country-name"></h1></div>
<div class="container">
    <div class="column" style="background-color: #f0f0f0;">
        <video id="player" controls autoplay></video>
        <button id="skip-ad-button" onclick="skipAd()">تخطي الإعلان</button>
    </div>
    <div class="column" style="background-color: #ddd;">
        <ul id="channels-list"></ul>
    </div>
    <div class="clearfix"></div>
</div>
<script>
   function playChannel(channelUrl) {
    const player = document.getElementById('player');
    if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(channelUrl);
        hls.attachMedia(player);
        hls.on(Hls.Events.MANIFEST_PARSED, function() {
            // Show the skip ad button after 5 seconds
            setTimeout(function() {
                document.getElementById('skip-ad-button').style.display = 'block';
            }, 5000);
        });
    } else if (player.canPlayType('application/vnd.apple.mpegurl')) {
        player.src = channelUrl;
        player.play(); // Auto-play the channel
        // Show the skip ad button after 5 seconds
        setTimeout(function() {
            document.getElementById('skip-ad-button').style.display = 'block';
        }, 5000);
    }
}

function skipAd() {
    const player = document.getElementById('player');
    const channelUrl = 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
    
    // Hide the skip ad button
    document.getElementById('skip-ad-button').style.display = 'none';

    // Load and play the main channel
    if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(channelUrl);
        hls.attachMedia(player);
        player.play(); // Auto-play the channel
    } else if (player.canPlayType('video/mp4')) {
        player.src = channelUrl;
        player.play(); // Auto-play the channel
    }
}

</script>
</body>
</html>

